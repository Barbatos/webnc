<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="http://localhost:8080/socket.io/socket.io.js"></script>
		<script>
		  var socket = io.connect('http://localhost:8080');
		  socket.on('message', function (data) {
		  
			wText=data[2]
			wText=wText.replace(/&/g, "&amp;") ;
			wText=wText.replace(/"/g, "&quot;");
			wText=wText.replace(/</g, "&lt;") ;
			wText=wText.replace(/>/g, "&gt;") ;
			wText=wText.replace(/'/g, "&#146;");
			wText=wText.replace(/ /g, "&nbsp;");
			$("#toto").append("<tr><td>"+ data[0] +"</td><td>"+ data[1] +"</td><td>"+ wText +"</td></tr>")
		  });
		  
		  socket.on('connected', function (data) {
			console.log(data);
			$("#chans").html( data.chans.join(', ') )
			
			socket.emit('my other event', { my: 'data' });
		  });
		</script>
	</head>
	<body>
		<h1>Channels : <span id="chans"></span></h1>
		<table>
			<thead>
				<tr>
					<th>FROM</th>
					<th>TO</th>
					<th>MESSAGE</th>
				</tr>
			</thead>
			<tbody id="toto">
			</tbody>
		</table>
	</body>
</html>